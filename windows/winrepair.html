<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="formata√ß√£o, windows, linux, freebsd, bios, uefi, instala√ß√£o, balena, etcher, ventoy, os">
    <meta name="author" content="Cain">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reparando o Windows</title>
    <!--Social Media Open Graph-->
    <meta property="og:title" content="Repare seu Windows com apenas 3 comandos!"/>
    <meta property="og:url" content="https://cain-dev.github.io/default/"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="A velha lenda do sfc + dism + chkdsk"/>
    <meta property="og:image" content="https://raw.githubusercontent.com/cain-dev/default/main/assets/images/ogimage.jpg"/>
    <!--/Social Media Open Graph-->
    <!--Links-->
    <link rel="shortcut icon" href="../assets/images/cainlogo.ico">
    <link rel="stylesheet" type="text/css"href="../os_style.css">   
    <!--/Links-->
</head>
<body>
    <header id="main-header">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><p>@cain-dev</p></li>
            <li><a href="../extra/contact.html">Contato</a></li>
        </ul>
    </header>
    <main id="main-area">
        <h1>Reparo do Windows</h1>
        <h2>Introdu√ß√£o</h2>
        <p>Dor de cabe√ßa faz parte da utiliza√ß√£o do Windows: Seja de falha de updates at√© erros que aparecem do nada... Mas existe uma velha lenda de que 3 comandinhos s√£o mais do que suficientes para resolver todos os problemas do seu sistema...</p>
        <p>Isso √© bem superestimado? Com toda certeza! Eu pessoalmente jamais confiaria no Windows pra fazer qualquer tentativa de reparo com rela√ß√£o a erros de disco, mas para o usu√°rio final m√©dio isso √© melhor do que ser roubado por um t√©cnico aleat√≥rio.</p>
        <h2>E como fazer isso?</h2>
        <p><strong>A primeira coisa a se fazer</strong> √© abrir a ferramenta de restaura√ß√£o e criar um <em>Ponto de Restaura√ß√£o</em>, de prefer√™ncia com data e hora, acredite, isso pode te salvar de muitas horas de dor de cabe√ßa.</p>
        <p>Para fazer os reparos apenas abra o <mark>Prompt de Comando</mark> (<i>cmd</i>) como <strong>Administrador</strong> e use os comandos abaixo para reparar seu sistema.</p>
        <h2>Explica√ß√£o b√°sica sobre o reparo</h2>
        <p>Diferente dos sistemas Unixlike, o Windows trabalha com uma esp√©cie de "imagem de sistema", e ele utiliza essa imagem para garantir que o sistema est√° em perfeito funcionamento, ent√£o tudo que estiver faltando ou corrompido em termos de arquivos do sistema vai ser marcado para repara√ß√£o... Mas a√≠ que mora o problema: Pela pr√≥pria arquitetura <em>sfc</em>, ele depende de usar um cache local da imagem de arquivos do sistema, se essa imagem est√° corrompida ou desatualizada (o que √© bem comum se tratando de Windows) o reparo n√£o poder√° ser feito. Mas vamos come√ßar pelo mais direto, considerando que voc√™ tenha uma imagem v√°lida:</p>
        <h3>Reparo com SFC (System File Check)</h3>
        <p>Verifica e repara arquivos de sistema corrompidos ou ausentes com base na imagem de sistema:</p>
        <code>sfc /scannow</code>
        <p>Caso voc√™ tenha uma imagem v√°lida vai conseguir recuperar com esse programa sem muitos problemas... Mas √© bem comum ver o erro de que "O sistema n√£o pode ser reparado", nesse caso precisamos refazer a imagem usando o...</p>
        <h3>DISM (Deployment Image Servicing and Management)</h3>
        <p>Grosso modo o <em>DISM</em> vai resolver essa imagem antes que o <em>sfc</em> possa fazer o seu trabalho, ent√£o caso o <em>sfc</em> n√£o tenha funcionado podemos usar os comandos abaixo:</p>
        <p>Verifica rapidamente se h√° corrup√ß√£o na imagem do sistema:</p>
        <code>DISM /Online /Cleanup-Image /CheckHealth</code>
        <p>Faz uma varredura aprofundada nos caches de imagem do sistema e o compara com a vers√£o online, se h√° corrup√ß√£o ele marca para reparo:</p>
        <code>DISM /Online /Cleanup-Image /ScanHealth</code>
        <p>Esse n√£o s√≥ escaneia, mas repara na imagem do sistema os arquivos corrompidos ou n√£o encontrados, basicamente reconstroi o seu cache de imagem do sistema com os arquivos mais novos:</p>
        <code>DISM /Online /Cleanup-Image /RestoreHealth</code>
        <p>E quando mesmo isso falha? Afinal de contas √© o Windows n√©?</p>
        <h3>Resolver os arquivos localmente</h3>
        <p>E quando nem o <em>DISM</em> consegue achar a imagem mais atualizada ou simplesmente n√£o consegue reparar a imagem local? Bom, existe um truque para usar uma imagem offline de outra instala√ß√£o! Para isso √© simples: V√° no site da Microsoft, baixe a <em>ISO</em> do Windows, e na pasta <em>sources</em> voc√™ vai encontrar o arquivo <em>install.win</em> ou <em>install.esd</em>, deixe isso em um pendrive e monte ele no sistema que quer reparar.</p>
        <p>Por fim (considerando que o pen drive √© o dispositivo <mark>D:\</mark>) , use o comando <em>DISM</em> apontando para o arquivo local com o comando:</p>
        <code>DISM /Online /Cleanup-Image /RestoreHealth /Source:<em>D:\</em>sources/install.win</code>
        <p>ou</p>
        <code>DISM /Online /Cleanup-Image /RestoreHealth /Source:<em>D:\</em>sources/install.esd</code>
        <p>Se n√£o quer que o DISM use nada do Windows Update (para for√ßar com que use apenas o arquivo como fonte) basta adicionar ao final do comando:</p>
        <code>/LimitAccess</code>
        <p>Depois disso voc√™ pode tentar mais uma vez usar o comando do sfc como descrito acima para reparar o sistema... Mas e se n√£o resolver?</p>
        <h3>Check Disk</h3>
        <p>Algumas vezes n√£o √© s√≥ uma quest√£o da imagem do sistema, e sim algo entre o estado f√≠sico do disco ou mesmo uma quest√£o (do qu√£o lixo o funcionamento) do NTFS, nesse caso antes de mais nada precisa reparar o disco em si.</p>
        <p>Para fazer uma verifica√ß√£o do estado do disco use o comando:</p>
        <code>chkdsk /r</code>
        <h2>Conclus√£o</h2>
        <p>Se voc√™ tentou usar o sfc, depois reparar a imagem com o DISM e depois sfc, depois reparar o disco, usar o DISM e depois sfc e mesmo assim n√£o resolveu, verifique o estado do seu disco e se ele estiver com boa sa√∫de reinstale o sistema no computador... E de prefer√™ncia n√£o coloque Windows da pr√≥xima vez.</p>
    </main>
    <footer id="main-footer">
        <p>Est√° p√°gina ainda est√° em constru√ß√£o üöß</p>
        <a class="footerlink" href="#main-header">‚Üë Retornar ao topo ‚Üë</a>
    </footer>
</body>
</html>